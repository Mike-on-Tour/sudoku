{#
*
* @package MoT Sudoku v0.11.1
* @copyright (c) 2023 - 2024 Mike-on-Tour
* @license http://opensource.org/licenses/gpl-2.0.php GNU General Public License v2
*
#}

<form id="mot_sudoku_type_select" method="post" action="{{ MOT_SUDOKU_FAME_TAB }}">
	<h2>
		{{ lang('MOT_SUDOKU_TAB_FAME') }}&nbsp;

		{{ _self.select('mot_sudoku_fame_select_type', MOT_SUDOKU_SELECTED_TYPE, MOT_SUDOKU_SELECT_TYPE_ARR) }}
	</h2>
	{{ S_FORM_TOKEN }}
</form>
{{ MOT_SUDOKU_SELECT_TYPE }}
<h3>{{ lang('MOT_SUDOKU_CURRENT_MONTH') }}</h3>

<table class="table1 zebra-list">
	<tbody>
		<tr>
			<th>{{ lang('USERNAME') }}</th>
			<th>{{ lang('MOT_SUDOKU_TOTAL_GAMES') }}</th>
			<th>{{ lang('MOT_SUDOKU_TOTAL_POINTS') }}</th>
			<th>{{ lang('MOT_SUDOKU_MEAN_POINTS') }}</th>
		</tr>
		{% for current_month in current_months %}
			<tr>
				<td {% if current_month.USER_COLOUR %}style="color: #{{ current_month.USER_COLOUR }}; font-weight: bold;"{% endif %}>{{ current_month.USERNAME }}</td>
				<td>{{ current_month.TOTAL_GAMES }}</td>
				<td>{{ current_month.TOTAL_POINTS }}</td>
				<td>{{ current_month.MEAN_POINTS }}</td>
			</tr>
		{% else %}
			<tr>
				<td colspan="4" style="text-align: center;">{{ lang('MOT_SUDOKU_NO_ENTRIES') }}</td>
			</tr>
		{% endfor %}
	</tbody>
</table>

<p>&nbsp;</p>

<h3>{{ lang('MOT_SUDOKU_CURRENT_YEAR') }}</h3>

<table class="table1 zebra-list">
	<tbody>
		<tr>
			<th>{{ lang('USERNAME') }}</th>
			<th>{{ lang('MOT_SUDOKU_TOTAL_GAMES') }}</th>
			<th>{{ lang('MOT_SUDOKU_TOTAL_POINTS') }}</th>
			<th>{{ lang('MOT_SUDOKU_MEAN_POINTS') }}</th>
		</tr>
		{% for current_year in current_years %}
			<tr>
				<td {% if current_year.USER_COLOUR %}style="color: #{{ current_year.USER_COLOUR }}; font-weight: bold;"{% endif %}>{{ current_year.USERNAME }}</td>
				<td>{{ current_year.TOTAL_GAMES }}</td>
				<td>{{ current_year.TOTAL_POINTS }}</td>
				<td>{{ current_year.MEAN_POINTS }}</td>
			</tr>
		{% else %}
			<tr>
				<td colspan="4" style="text-align: center;">{{ lang('MOT_SUDOKU_NO_ENTRIES') }}</td>
			</tr>
		{% endfor %}
	</tbody>
</table>

{% if MOT_SUDOKU_NUMBER_MONTHS %}
	<p>&nbsp;</p>

	<h3>{{ lang('MOT_SUDOKU_LAST_MONTHS', MOT_SUDOKU_NUMBER_MONTHS) }}</h3>

	<table class="table1 zebra-list">
		<tbody>
			<tr>
				<th>{{ lang('MONTH') }}</th>
				<th>{{ lang('USERNAME') }}</th>
				<th>{{ lang('MOT_SUDOKU_TOTAL_GAMES') }}</th>
				<th>{{ lang('MOT_SUDOKU_TOTAL_POINTS') }}</th>
				<th>{{ lang('MOT_SUDOKU_MEAN_POINTS') }}</th>
			</tr>
			{% for last_month in last_months %}
				<tr>
					<td>{{ last_month.MONTH }}</td>
					<td {% if last_month.USER_COLOUR %}style="color: #{{ last_month.USER_COLOUR }}; font-weight: bold;"{% endif %}>{{ last_month.USERNAME }}</td>
					<td>{{ last_month.TOTAL_GAMES }}</td>
					<td>{{ last_month.TOTAL_POINTS }}</td>
					<td>{{ last_month.MEAN_POINTS }}</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="5" style="text-align: center;">{{ lang('MOT_SUDOKU_NO_ENTRIES') }}</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
{% endif %}

{% if MOT_SUDOKU_NUMBER_YEARS %}
	<p>&nbsp;</p>

	<h3>{{ lang('MOT_SUDOKU_LAST_YEARS', MOT_SUDOKU_NUMBER_YEARS) }}</h3>

	<table class="table1 zebra-list">
		<tbody>
			<tr>
				<th>{{ lang('YEAR') }}</th>
				<th>{{ lang('USERNAME') }}</th>
				<th>{{ lang('MOT_SUDOKU_TOTAL_GAMES') }}</th>
				<th>{{ lang('MOT_SUDOKU_TOTAL_POINTS') }}</th>
				<th>{{ lang('MOT_SUDOKU_MEAN_POINTS') }}</th>
			</tr>
			{% for last_year in last_years %}
				<tr>
					<td>{{ last_year.YEAR }}</td>
					<td {% if last_year.USER_COLOUR %}style="color: #{{ last_year.USER_COLOUR }}; font-weight: bold;"{% endif %}>{{ last_year.USERNAME }}</td>
					<td>{{ last_year.TOTAL_GAMES }}</td>
					<td>{{ last_year.TOTAL_POINTS }}</td>
					<td>{{ last_year.MEAN_POINTS }}</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="5" style="text-align: center;">{{ lang('MOT_SUDOKU_NO_ENTRIES') }}</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
{% endif %}

{% macro select(name, value, options) -%}
	<select id="{{ name }}" name="{{ name }}">
		{% for opt_lang_var, opt_value in options %}
			<option value="{{ opt_value }}"{{ opt_value == value ? ' selected' }}>{{ lang(opt_lang_var) }}</option>
		{% endfor %}
	</select>
{%- endmacro %}
